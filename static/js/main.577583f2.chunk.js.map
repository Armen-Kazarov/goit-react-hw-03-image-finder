{"version":3,"sources":["Modal/Modal.module.css","ImageGalleryItem/ImageGalleryItem.module.css","Button/Button.module.css","ImageGallery/ImageGallery.module.css","Searchbar/Searchbar.js","Loader/Loader.js","api/service.js","Modal/Modal.js","ImageGalleryItem/ImageGalleryItem.js","Button/Button.js","ImageGallery/ImageGallery.js","App.js","index.js","Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","state","searchQuery","handleChangeSearch","e","value","target","setState","handleCheckSearch","preventDefault","checkedSearchQuery","trim","toLowerCase","length","props","submitSearch","toast","error","className","s","onSubmit","SearchForm","type","SearchFormButton","SearchFormButtonLabel","onChange","this","SearchFormInput","autoComplete","autoFocus","placeholder","Component","Spiner","style","textAlign","color","height","width","timeout","apiRes","getGalleryData","page","url","fetch","then","response","json","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","currentTarget","window","addEventListener","removeEventListener","createPortal","Overlay","onClick","children","ImageGalleryItem","showModal","toggleModal","src","smallImage","alt","key","bigImage","LoadMoreBtn","Button","ImageGallery","images","isLoading","componentDidMount","a","hits","catch","console","log","finally","handleLoadMoreImages","newImages","prevProps","prevState","prevQuery","nextQuery","scrollTo","top","documentElement","scrollHeight","behavior","map","image","webformatURL","largeImageURL","id","App","handleSubmit","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,yBAAyB,mD,mBCAzGD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,aAAe,qC,uMC8DlBC,E,4MAxDbC,MAAQ,CACNC,YAAa,I,EAGfC,mBAAqB,SAAAC,GAAM,IACjBC,EAAUD,EAAEE,OAAZD,MACR,EAAKE,SAAS,CACZL,YAAaG,K,EAIjBG,kBAAoB,SAAAJ,GAClBA,EAAEK,iBADqB,IAGjBC,EADkB,EAAKT,MAArBC,YAC+BS,OAAOC,cAG5CF,EAAmBG,OAAS,GAC5B,EAAKC,MAAMZ,cAAgBQ,EAE3B,EAAKI,MAAMC,aAAaL,GAExBM,IAAMC,MAAM,yB,uDAIN,IAAD,OACP,OACE,8BACE,wBAAQC,UAAWC,IAAEnB,UAArB,SACE,uBACEoB,SAAU,SAAAhB,GAAC,OAAI,EAAKI,kBAAkBJ,IACtCc,UAAWC,IAAEE,WAFf,UAIE,wBAAQC,KAAK,SAASJ,UAAWC,IAAEI,iBAAnC,SACE,uBAAML,UAAWC,IAAEK,sBAAnB,UACE,cAAC,IAAD,IADF,cAMF,uBACEC,SAAUC,KAAKvB,mBACfe,UAAWC,IAAEQ,gBACbL,KAAK,OACLM,aAAa,MACbC,WAAS,EACTC,YAAY,wC,GAhDFC,a,kDCSTC,G,MAZA,WACb,OACE,cAAC,IAAD,CACEC,MAAO,CAAEC,UAAW,UACpBZ,KAAK,OACLa,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,QCAAC,EAJA,CACbC,eARqB,SAACtC,EAAauC,GACnC,IACMC,EAAG,uCADM,qCACN,cAA+CxC,EAA/C,iBAAmEuC,EAAnE,wDAET,OAAOE,MAAMD,GAAKE,MAAK,SAAAC,GAAQ,OAAIA,EAASC,Y,iBCAxCC,EAAYC,SAASC,cAAc,eAiC1BC,E,4MAtBbC,cAAgB,SAAA/C,GACC,WAAXA,EAAEgD,MACJ,EAAKtC,MAAMuC,W,EAIfC,oBAAsB,SAAAlD,GAChBA,EAAEmD,gBAAkBnD,EAAEE,QACxB,EAAKQ,MAAMuC,W,kEAfbG,OAAOC,iBAAiB,UAAW/B,KAAKyB,iB,6CAIxCK,OAAOE,oBAAoB,UAAWhC,KAAKyB,iB,+BAgB3C,OAAOQ,uBACL,qBAAKzC,UAAWC,IAAEyC,QAASC,QAASnC,KAAK4B,oBAAzC,SACE,qBAAKpC,UAAWC,IAAE+B,MAAlB,SAA0BxB,KAAKZ,MAAMgD,aAEvCf,O,GA1BchB,a,iBCiCLgC,E,4MAlCb9D,MAAQ,CACN+D,WAAW,G,EAGbC,YAAc,WACZ,EAAK1D,UAAS,kBAAoB,CAAEyD,WAAtB,EAAGA,e,uDAGT,IACAA,EAActC,KAAKzB,MAAnB+D,UAER,OACE,qCACE,oBAEE9C,UAAWC,IAAE4C,iBACbF,QAASnC,KAAKuC,YAHhB,SAKE,qBACEC,IAAKxC,KAAKZ,MAAMqD,WAChBC,IAAI,MACJlD,UAAU,4BAPPQ,KAAKZ,MAAMuD,KAUjBL,GACC,cAAC,EAAD,CAAOX,QAAS3B,KAAKuC,YAArB,SACE,qBAAKC,IAAKxC,KAAKZ,MAAMwD,SAAUF,IAAI,qB,GA3BhBrC,a,iBCOhBwC,EATK,SAAC,GAAiB,IAAfV,EAAc,EAAdA,QACrB,OACE,8BACE,wBAAQvC,KAAK,SAASJ,UAAWC,IAAEqD,OAAQX,QAAS,kBAAMA,KAA1D,0B,iBC4FSY,E,4MAzFbxE,MAAQ,CACNyE,OAAQ,KACRC,WAAW,EACXlC,KAAM,G,EAGRmC,kB,sBAAoB,4BAAAC,EAAA,6DACVpC,EAAS,EAAKxC,MAAdwC,KADU,SAGZF,EACHC,eAAe,EAAK1B,MAAMZ,YAAauC,GACvCG,MAAK,SAAAC,GAAQ,OACZ,EAAKtC,SAAS,CACZmE,OAAM,OAAE7B,QAAF,IAAEA,OAAF,EAAEA,EAAUiC,KAClBH,WAAW,OAGdI,OAAM,SAAA9D,GAAK,OAAI+D,QAAQC,IAAIhE,MAC3BiE,SAAQ,kBACP,EAAK3E,SAAS,CACZoE,WAAW,OAdC,2C,EA6CpBQ,qBAAuB,WAGrB,OAFA,EAAK5E,SAAS,CAAEoE,WAAW,IAEpBpC,EACJC,eAAe,EAAK1B,MAAMZ,YAAa,EAAKD,MAAMwC,MAClDG,MAAK,SAAAwC,GAAS,OACb,EAAK7E,UAAS,gBAAGmE,EAAH,EAAGA,OAAQjC,EAAX,EAAWA,KAAX,MAAuB,CACnCiC,OAAO,GAAD,mBAAMA,GAAN,YAAiBU,EAAUN,OACjCrC,KAAMA,EAAO,EACbkC,WAAW,U,iEAnCAU,EAAWC,GAAY,IAAD,OACjCC,EAAYF,EAAUnF,YACtBsF,EAAY9D,KAAKZ,MAAMZ,YACrBuC,EAASf,KAAKzB,MAAMwC,KAApBA,KAEJ8C,IAAcC,IAChB9D,KAAKnB,SAAS,CACZoE,WAAW,EACXD,OAAQ,OAGVnC,EAAOC,eAAegD,EAAW/C,GAAMG,MAAK,SAAAwC,GAAS,OACnD,EAAK7E,UAAS,gBAAGkC,EAAH,EAAGA,KAAH,MAAe,CAC3BiC,OAAQU,EAAUN,KAClBrC,KAAMA,EACNkC,WAAW,UAKjBnB,OAAOiC,SAAS,CACdC,IAAK1C,SAAS2C,gBAAgBC,aAC9BC,SAAU,a,+BAkBJ,IAAD,EACuBnE,KAAKzB,MAA3ByE,EADD,EACCA,OAAQC,EADT,EACSA,UAEhB,OACE,qCACG,IACAD,GACC,oBAAIxD,UAAWC,IAAEsD,aAAjB,SACGC,EAAOoB,KAAI,SAAAC,GAAK,OACf,cAAC,EAAD,CAEE5B,WAAY4B,EAAMC,aAClB1B,SAAUyB,EAAME,eAFXF,EAAMG,SAOlBvB,GAAa,cAAC,EAAD,IACbD,GAAU,cAAC,EAAD,CAAab,QAASnC,KAAKyD,8B,GApFnBpD,aCwBZoE,G,kNAvBblG,MAAQ,CACNC,YAAa,I,EAGfkG,aAAe,SAAA/F,GACb,EAAKE,SAAS,CACZL,YAAaG,K,uDAIP,IACAH,EAAgBwB,KAAKzB,MAArBC,YAER,OACE,qCACE,cAAC,EAAD,CAAWa,aAAcW,KAAK0E,eAC7BlG,GAAe,cAAC,EAAD,CAAcA,YAAaA,IAC3C,cAAC,IAAD,CAAgBmG,UAAW,a,GAlBjBtE,cCFlBuE,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFxD,SAASyD,eAAe,U,kBCR1B3G,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,sC","file":"static/js/main.577583f2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__1aPwp\",\"Modal\":\"Modal_Modal__5hzoU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__GrKHv\",\"ImageGalleryItem-image\":\"ImageGalleryItem_ImageGalleryItem-image__3P2hz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2DzEg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__U0Vua\"};","import { Component } from 'react';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ImSearch } from 'react-icons/im';\nimport s from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleChangeSearch = e => {\n    const { value } = e.target;\n    this.setState({\n      searchQuery: value,\n    });\n  };\n\n  handleCheckSearch = e => {\n    e.preventDefault();\n    const { searchQuery } = this.state;\n    const checkedSearchQuery = searchQuery.trim().toLowerCase();\n\n    if (\n      checkedSearchQuery.length > 2 &&\n      this.props.searchQuery !== checkedSearchQuery\n    ) {\n      this.props.submitSearch(checkedSearchQuery);\n    } else {\n      toast.error('Enter more letters !');\n    }\n  };\n\n  render() {\n    return (\n      <div>\n        <header className={s.Searchbar}>\n          <form\n            onSubmit={e => this.handleCheckSearch(e)}\n            className={s.SearchForm}\n          >\n            <button type=\"submit\" className={s.SearchFormButton}>\n              <span className={s.SearchFormButtonLabel}>\n                <ImSearch />\n                Search\n              </span>\n            </button>\n\n            <input\n              onChange={this.handleChangeSearch}\n              className={s.SearchFormInput}\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search images and photos\"\n            />\n          </form>\n        </header>\n      </div>\n    );\n  }\n}\n\nexport default Searchbar;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst Spiner = () => {\n  return (\n    <Loader\n      style={{ textAlign: 'center' }}\n      type=\"Oval\"\n      color=\"#00BFFF\"\n      height={50}\n      width={50}\n      timeout={3000}\n    />\n  );\n};\nexport default Spiner;\n","const getGalleryData = (searchQuery, page) => {\n  const apiKey = '18800826-dac8e8a4f07b5aa1d9a1979b8';\n  const url = `https://pixabay.com/api/?key=${apiKey}&q=${searchQuery}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`;\n\n  return fetch(url).then(response => response.json());\n};\n\nconst apiRes = {\n  getGalleryData,\n};\n\nexport default apiRes;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nexport default Modal;\n","import { Component } from 'react';\nimport Modal from '../Modal/Modal';\nimport s from './ImageGalleryItem.module.css';\n\nclass ImageGalleryItem extends Component {\n  state = {\n    showModal: false,\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({ showModal: !showModal }));\n  };\n\n  render() {\n    const { showModal } = this.state;\n\n    return (\n      <>\n        <li\n          key={this.props.key}\n          className={s.ImageGalleryItem}\n          onClick={this.toggleModal}\n        >\n          <img\n            src={this.props.smallImage}\n            alt=\"pic\"\n            className=\"ImageGalleryItem-image\"\n          />\n        </li>\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={this.props.bigImage} alt=\"big pic\" />\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryItem;\n","import s from './Button.module.css';\n\nconst LoadMoreBtn = ({ onClick }) => {\n  return (\n    <div>\n      <button type=\"button\" className={s.Button} onClick={() => onClick()}>\n        Load more\n      </button>\n    </div>\n  );\n};\nexport default LoadMoreBtn;\n","import { Component } from 'react';\nimport Spiner from '../Loader/Loader';\nimport apiRes from '../api/service';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport LoadMoreBtn from '../Button/Button';\nimport s from './ImageGallery.module.css';\n\nclass ImageGallery extends Component {\n  state = {\n    images: null,\n    isLoading: false,\n    page: 1,\n  };\n\n  componentDidMount = async () => {\n    const { page } = this.state;\n\n    await apiRes\n      .getGalleryData(this.props.searchQuery, page)\n      .then(response =>\n        this.setState({\n          images: response?.hits,\n          isLoading: true,\n        }),\n      )\n      .catch(error => console.log(error))\n      .finally(() =>\n        this.setState({\n          isLoading: false,\n        }),\n      );\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevQuery = prevProps.searchQuery;\n    const nextQuery = this.props.searchQuery;\n    const { page } = this.state.page;\n\n    if (prevQuery !== nextQuery) {\n      this.setState({\n        isLoading: true,\n        images: null,\n      });\n\n      apiRes.getGalleryData(nextQuery, page).then(newImages =>\n        this.setState(({ page }) => ({\n          images: newImages.hits,\n          page: page,\n          isLoading: false,\n        })),\n      );\n    }\n\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  }\n\n  handleLoadMoreImages = () => {\n    this.setState({ isLoading: true });\n\n    return apiRes\n      .getGalleryData(this.props.searchQuery, this.state.page)\n      .then(newImages =>\n        this.setState(({ images, page }) => ({\n          images: [...images, ...newImages.hits],\n          page: page + 1,\n          isLoading: false,\n        })),\n      );\n  };\n\n  render() {\n    const { images, isLoading } = this.state;\n\n    return (\n      <>\n        {' '}\n        {images && (\n          <ul className={s.ImageGallery}>\n            {images.map(image => (\n              <ImageGalleryItem\n                key={image.id}\n                smallImage={image.webformatURL}\n                bigImage={image.largeImageURL}\n              />\n            ))}\n          </ul>\n        )}\n        {isLoading && <Spiner />}\n        {images && <LoadMoreBtn onClick={this.handleLoadMoreImages} />}\n      </>\n    );\n  }\n}\n\nexport default ImageGallery;\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport './App.css';\n\nclass App extends Component {\n  state = {\n    searchQuery: '',\n  };\n\n  handleSubmit = value => {\n    this.setState({\n      searchQuery: value,\n    });\n  };\n\n  render() {\n    const { searchQuery } = this.state;\n\n    return (\n      <>\n        <Searchbar submitSearch={this.handleSubmit} />\n        {searchQuery && <ImageGallery searchQuery={searchQuery} />}\n        <ToastContainer autoClose={3000} />\n      </>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__29v6h\",\"SearchForm\":\"Searchbar_SearchForm__3z2FG\",\"SearchFormButton\":\"Searchbar_SearchFormButton__3RNF2\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__DXFQF\",\"SearchFormInput\":\"Searchbar_SearchFormInput__1mN5p\"};"],"sourceRoot":""}